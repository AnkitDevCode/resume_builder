<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Editable Resume Builder</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-body: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --bg-container: #ffffff;
      --text-main: #1f2937;
      --text-secondary: #4b5563;
      --border-color: #e5e7eb;
      --bg-editor: #1f2937;
      --text-editor: #f3f4f6;
      --bg-controls: #eef2f6;
      --header-bg: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      --header-text: #ffffff;
      --btn-primary-bg: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      --btn-primary-text: #fff;
      --btn-secondary-bg: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      --btn-secondary-text: #fff;
      --accent-color: #4f46e5;
      --shadow-soft: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    /* Dark Theme */
    body.dark-theme {
      --bg-body: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
      --bg-container: #2d3748;
      --text-main: #f7fafc;
      --text-secondary: #a0aec0;
      --border-color: #4a5568;
      --bg-editor: #1f2937;
      --text-editor: #e5e7eb;
      --bg-controls: #2c3140;
      --header-bg: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      --header-text: #f7fafc;
      --btn-primary-bg: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      --btn-primary-text: #fff;
      --btn-secondary-bg: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
      --btn-secondary-text: #fff;
      --accent-color: #6366f1;
    }

    /* Vibrant Theme */
    body.vibrant-theme {
      --bg-body: #ffffff;
      --bg-container: #ffffff;
      --text-main: #1f2937;
      --text-secondary: #4b5563;
      --border-color: #e5e7eb;
      --bg-editor: #1f2937;
      --text-editor: #f3f4f6;
      --bg-controls: #eef2f6;
      --header-bg: #f8fafc;
      --header-text: #1f2937;
      --btn-primary-bg: #0d9488;
      --btn-primary-text: #fff;
      --btn-secondary-bg: #ef4444;
      --btn-secondary-text: #fff;
      --accent-color: #0d9488;
    }
    body.vibrant-theme .btn-primary:hover,
    body.vibrant-theme .dropdown:hover {
        transform: none;
        box-shadow: none;
        background: #0d9488;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      background: var(--bg-body);
      color: var(--text-main);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      transition: background-color 0.3s ease;
    }

    .container {
      flex: 1;
      max-width: 1400px;
      margin: 40px auto;
      background: var(--bg-container);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: box-shadow 0.3s ease;
    }

    header {
      background: var(--header-bg);
      color: var(--header-text);
      padding: 25px 30px; 
      text-align: center;
      border-bottom: 1px solid var(--border-color);
    }

    header h1 {
        font-size: 2.2rem; 
        margin: 0;
        font-weight: 700;
        letter-spacing: -1px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    header p {
        font-size: 1rem; 
        margin-top: 5px; 
        opacity: 0.9;
    }

    .controls {
      display: flex;
      gap: 16px;
      padding: 20px;
      flex-wrap: wrap;
      background: var(--bg-controls);
      border-bottom: 1px solid var(--border-color);
    }

    .controls input[type="file"] {
      display: none;
    }

 .btn, .dropdown {
      flex: 1;
      text-align: center;
      padding: 14px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      background: transparent;
      color: var(--text-main);
    }
    
    .btn-primary, .dropdown { 
      background: var(--btn-primary-bg);
      color: var(--btn-primary-text);
      border-color: var(--accent-color);
      box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
    }
    .btn-secondary { 
        background: var(--btn-secondary-bg); 
        color: var(--btn-secondary-text); 
        border: 1px solid var(--btn-secondary-bg); 
        box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
    }
    
    .btn:hover, .dropdown:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    
    .dropdown {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  border-radius: 16px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--border-color);
  background: transparent;
  color: var(--text-main);
  transition: 
    transform 0.3s ease, 
    box-shadow 0.3s ease, 
    background-color 0.3s ease;
    }
    .dropdown option {
      color: var(--text-main);
    }

    .editor-preview {
      display: grid;
      grid-template-columns: 1fr 1fr;
      flex: 1;
      min-height: 70vh;
      border-top: 1px solid var(--border-color);
    }


    .editor-preview {
      display: grid;
      grid-template-columns: 1fr 1fr;
      flex: 1;
      min-height: 70vh;
      border-top: 1px solid var(--border-color);
    }

    textarea {
      width: 100%;
      height: 100%;
      border: none;
      padding: 30px;
      font-family: 'Fira Code', monospace;
      font-size: 1rem;
      resize: none;
      outline: none;
      border-right: 2px solid var(--border-color);
      background: var(--bg-editor);
      color: var(--text-editor);
      line-height: 1.6;
    }

    .preview {
      padding: 30px;
      overflow-y: auto;
      background: var(--bg-container);
    }

    .preview h1 { font-size: 2.2rem; margin-top: 1em; color: var(--text-main); }
    .preview h2 { font-size: 1.6rem; margin-top: 2em; color: var(--text-main); border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; }
    .preview h3 { font-size: 1.25rem; margin-top: 1.5em; color: var(--text-main); }
    .preview p, .preview li { line-height: 1.7; color: var(--text-secondary); }
    .preview li { 
      margin-bottom: 0.8em; 
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .welcome {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-secondary);
    }
    
    .welcome h2 {
        font-size: 2rem;
        margin-top: 0;
    }

    footer {
      text-align: center;
      padding: 16px;
      font-size: 0.95rem;
      color: var(--text-secondary);
      background: var(--bg-controls);
    }

    @media (max-width: 900px) {
      .editor-preview {
        grid-template-columns: 1fr;
      }
      textarea {
        border-right: none;
        border-bottom: 2px solid var(--border-color);
        min-height: 30vh;
      }
    }

    @media print {
      header, .controls, textarea, footer { display: none; }
      .container { box-shadow: none; border-radius: 0; }
    }
  </style>
</head>
<body>
  <div class="container" id="resume-container">
    <header>
      <h1>Editable Resume Builder</h1>
      <p>Upload ‚Üí Edit Markdown ‚Üí Preview ‚Üí Export</p>
    </header>

    <div class="controls">
      <label for="fileInput" class="btn">üìÑ Upload Markdown</label>
      <input type="file" id="fileInput" accept=".md,.markdown,.txt" />
      <select id="loadSampleDropdown" class="dropdown">
        <option value="" disabled selected>üöÄ Load Sample</option>
        <option value="sample2">John Doe (Sample 1)</option>
        <option value="sample1">John Doe (Sample 2)</option>
      </select>
      <select id="themeSelect" class="dropdown">
          <option value="">üé® Select Theme</option>
          <option value="light-theme">Minimal Light</option>
          <option value="dark-theme">Dark Mode</option>
          <option value="vibrant-theme">Vibrant</option>
      </select>
      <button id="exportBtn" class="btn btn-primary">üì• Export PDF</button>
      <button id="clearBtn" class="btn btn-secondary">üóëÔ∏è Clear</button>
    </div>

    <div class="editor-preview" id="editorPreview">
      <textarea id="editor" placeholder="Write or edit your markdown here..."></textarea>
      <div id="preview" class="preview">
        <div class="welcome">
          <h2>Welcome üëã</h2>
          <p>Upload a <strong>.md</strong> file or start typing in the editor. Your resume will render here instantly.</p>
        </div>
      </div>
    </div>
  </div>

  <footer>
    Made with ‚ù§Ô∏è by AnkitDevCode
  </footer>

  <script>
    const fileInput = document.getElementById('fileInput');
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');
    const loadSampleDropdown = document.getElementById('loadSampleDropdown');
    const themeSelect = document.getElementById('themeSelect');

    // Sample Resume Content 1
    const sampleMarkdown1 = `# John Doe  
Gurugram, Haryana, India  
‚úâÔ∏è John.Doe@example.com | üìû +91-XXXXXXXXXX  
üíº LinkedIn: linkedin.com/in/JohnDoe | üíª GitHub: github.com/John-Doe  

---

## Professional Summary

Detail-oriented Senior DevOps and Infrastructure Engineer with 8+ years of experience architecting containerized platforms, designing CI/CD pipelines, and automating onboarding workflows. Proven ability to bridge engineering, product modeling, and client onboarding by structuring specs, pricing models, and real-time notification systems. Passionate about reproducibility, security, and transforming complex processes into clear, shareable documentation.

---

## Core Skills

- **Containerization & Orchestration** ‚Ä¢ Docker (DinD, multi-stage builds, image optimization)  
  ‚Ä¢ Docker Swarm (overlay networks, ingress routing mesh)

- **CI/CD & Automation** ‚Ä¢ Jenkins, GitLab CI, GitHub Actions  
  ‚Ä¢ Reproducible pipeline scripting, cleanup scripts

- **Backend & Microservices** ‚Ä¢ Java 17+, Spring Boot, design patterns  
  ‚Ä¢ Modular service architecture, layered testing strategies

- **Infrastructure & Security** ‚Ä¢ Linux namespaces, cgroups, chroot environments  
  ‚Ä¢ Container security best practices

- **Notification & Feed Systems** ‚Ä¢ Telegram, WhatsApp integrations via Spring Boot  
  ‚Ä¢ RSS feed parsing, compliant web-scraping

- **Documentation & Onboarding** ‚Ä¢ Technical writing, onboarding guides, templates  
  ‚Ä¢ Product specification modeling, pricing tables

---

## Professional Experience

### Senior DevOps & Infrastructure Engineer  
**XYZ Technologies**, Gurugram, India | Jul 2021 ‚Äì Present  

- Architect and maintain multi-node Docker Swarm clusters in DinD environments, ensuring network isolation and reliable ingress routing.  
- Design and document reproducible Compose files, diagnostic scripts, and cleanup routines for onboarding labs and demos.  
- Lead CI/CD pipeline design with GitLab CI and Jenkins, integrating code quality checks, security scans, and automated deployments.  
- Build modular notification services using interface-based abstractions in Spring Boot to deliver real-time alerts via Telegram and WhatsApp.  
- Model and tabulate product specifications and pricing for doors/windows, generating documentation and automating client proposals.

### DevOps Engineer & Workflow Architect  
**ABC Solutions**, Gurugram, India | May 2018 ‚Äì Jun 2021  

- Implemented legal, ethical blog update tracking pipelines by combining RSS feed parsing and Dockerized scraping jobs within CI/CD workflows.  
- Automated onboarding processes with templated Docker Compose setups and self-healing cleanup scripts to reset lab environments.  
- Developed layered test strategies for Spring Boot services, including context caching, lifecycle control, and E2E validations.  
- Authored onboarding-ready guides and best-practice articles, mentoring cross-functional teams on container security and network troubleshooting.

### Software Engineer ‚Äì Java Microservices  
**TechCore Innovations**, Delhi, India | Jul 2015 ‚Äì Apr 2018  

- Designed and developed modular Spring Boot microservices for e-commerce platforms, implementing DTO patterns and centralized logging.  
- Integrated payment gateways and notification channels, abstracting external APIs behind service interfaces.  
- Collaborated with QA to define integration and contract tests, improving release stability by 40%.

---

## Selected Projects

- **Swarm Lab Automation**: Created a reproducible multi-node Swarm environment using DinD, overlay networks, and NGINX ingress; delivered turnkey lab templates and troubleshooting checklists.  
- **Blog Update Pipeline**: Built a Dockerized, CI/CD-driven RSS scraping workflow with rate-limit compliance and notification alerts for legal content tracking.  
- **Notification Hub**: Developed an extensible Java/Spring Boot service with plugin-style drivers for Telegram, WhatsApp, and email; implemented structured logging and retry policies.  
- **Product Spec Matrix**: Modeled door/window dimensions, materials, and pricing in JSON/YAML; auto-generated Markdown and HTML tables for client proposals.

---

## Education

**Bachelor of Technology in Computer Science** National Institute of Technology, Surat | Graduated May 2015

---

## Certifications

- Docker Certified Associate (DCA)  
- Certified Kubernetes Administrator (CKA)  
- AWS Certified Solutions Architect ‚Äì Associate

---

## Interests

Container security, local AI development with quantized LLMs, legal automation practices, technical mentoring, open-source documentation.
`;

    // Sample Resume Content 2
    const sampleMarkdown2 = `# John Doe
[john.doe@email.com](mailto:john.doe@email.com) | (555) 123-4567 | [linkedin.com/in/johndoe](https://linkedin.com/in/johndoe) | [github.com/johndoe](https://github.com/johndoe)

---

## Professional Summary
Passionate and results-driven full-stack developer with 5+ years of experience in designing, developing, and deploying scalable web applications. Expertise in modern JavaScript frameworks, cloud technologies and agile development methodologies. Proven ability to lead projects and mentor junior developers.

---

## Work Experience
### **Senior Software Engineer** | TechCorp Inc.
*January 2022 - Present*
- Led the development of a microservices architecture using Node.js and TypeScript, serving over 1 million active users.
- Improved application performance by 40% through code optimization, database query tuning and implementing a Redis caching layer.
- Mentored a team of 5 junior developers, conducting regular code reviews and promoting best practices.
- Implemented a CI/CD pipeline with Jenkins and Docker, reducing deployment time by 60%.

### **Software Engineer** | StartupXYZ
*June 2020 - December 2021*
- Developed and maintained responsive front-end components for a customer-facing dashboard using React and Redux.
- Built and integrated RESTful APIs with Node.js and Express, connecting to a PostgreSQL database.
- Collaborated in an Agile/Scrum environment to deliver features on a bi-weekly sprint cycle.

---

## Technical Skills
- **Languages:** JavaScript, TypeScript, Python, SQL
- **Frontend:** React, Redux, Vue.js, HTML5, CSS3, Tailwind CSS
- **Backend:** Node.js, Express, Django, RESTful APIs
- **Databases:** PostgreSQL, MongoDB, Redis, MySQL
- **Cloud & DevOps:** AWS (EC2, S3, Lambda), Docker, Kubernetes, Jenkins, Git
- **Tools:** Jira, Figma, Postman, Webpack

---

## Projects
### **Project Phoenix** | [github.com/johndoe/phoenix](https://github.com/johndoe/phoenix)
*A full-stack e-commerce platform*
- Built with React, Node.js and Stripe for payment processing. 
- Features include user authentication, product management and a real-time order tracking system.

---

## Education
### **Bachelor of Science in Computer Science**
*University of Technology* | 2016-2020
- Magna Cum Laude, GPA: 3.8/4.0
`;
    
    // Map of sample content
    const samples = {
        'sample1': sampleMarkdown1,
        'sample2': sampleMarkdown2
    };

    // Update preview whenever editor content changes
    editor.addEventListener('input', () => {
      preview.innerHTML = marked.parse(editor.value);
    });

    // Handle file upload
    fileInput.addEventListener('change', e => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        editor.value = e.target.result;
        preview.innerHTML = marked.parse(editor.value);
      };
      reader.readAsText(file);
    });

    // Handle Load Sample dropdown change
    loadSampleDropdown.addEventListener('change', (e) => {
        const selectedSample = e.target.value;
        if (selectedSample && samples[selectedSample]) {
            editor.value = samples[selectedSample];
            preview.innerHTML = marked.parse(editor.value);
        }
    });

    // Handle Theme Selection dropdown change
    themeSelect.addEventListener('change', (e) => {
        document.body.className = e.target.value;
    });

    // Function to wrap markdown sections in a class for PDF page-break control
    function wrapSectionsForPdf(html) {
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, 'text/html');
      const headings = doc.querySelectorAll('h2');
      
      headings.forEach(h2 => {
        const wrapper = doc.createElement('div');
        wrapper.classList.add('avoid-break'); // Add class to avoid page breaks
        
        let currentElement = h2;
        while (currentElement && currentElement.tagName !== 'H2' && currentElement.tagName !== 'H1') {
          const nextElement = currentElement.nextElementSibling;
          wrapper.appendChild(currentElement);
          currentElement = nextElement;
        }
        
        // Append the h2 itself and the wrapper
        h2.parentNode.insertBefore(wrapper, h2.nextSibling);
        wrapper.insertBefore(h2, wrapper.firstChild);
      });
      return doc.body.innerHTML;
    }


   // Export PDF
   document.getElementById('exportBtn').addEventListener('click', () => {
     if (!editor.value.trim()) {
       alert('Please enter or upload some markdown before exporting.');
       return;
     }
     
     // Temporary clone and wrap sections for PDF generation
     const previewContent = preview.cloneNode(true);
     previewContent.innerHTML = wrapSectionsForPdf(previewContent.innerHTML);

     html2pdf().set({
         margin: 0.5,
         filename: 'resume.pdf',
         image: { type: 'jpeg', quality: 0.98 },
         html2canvas: { scale: 3, useCORS: true }, 
         jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' },
         pagebreak: { mode: ['css', 'legacy'] }
     }).from(previewContent).save();
   });

    // Clear content
    document.getElementById('clearBtn').addEventListener('click', () => {
      editor.value = '';
      preview.innerHTML = '<div class="welcome"><h2>Welcome üëã</h2><p>Upload a <strong>.md</strong> file or start typing in the editor. Your resume will render here instantly.</p></div>';
      fileInput.value = ''; 
    });
  </script>
</body>
</html>
